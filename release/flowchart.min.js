// flowchart.js, v1.6.2
// Copyright (c)yyyy Adriano Raiano (adrai).
// Distributed under MIT license
// http://adrai.github.io/flowchart.js

!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("Raphael"));else if("function"==typeof define&&define.amd)define(["Raphael"],e);else{var i=e("object"==typeof exports?require("Raphael"):t.Raphael);for(var r in i)("object"==typeof exports?exports:t)[r]=i[r]}}(this,function(t){return function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(14);var r=i(6),s=i(13);i(15);var n={parse:r,parseObject:s};"undefined"!=typeof window&&(window.flowchart=n),t.exports=n},function(t,e){function i(t,e){if(!t||"function"==typeof t)return e;var r={};for(var s in e)r[s]=e[s];for(s in t)t[s]&&("object"==typeof r[s]?r[s]=i(r[s],t[s]):r[s]=t[s]);return r}function r(t,e){if("function"==typeof Object.create)t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}t.exports={defaults:i,inherits:r}},function(t,e,i){function r(t,e,i){this.chart=t,this.group=this.chart.paper.set(),this.symbol=i,this.connectedTo=[],this.symbolType=e.symbolType,this.flowstate=e.flowstate||"future",this.next_direction=e.next&&e.direction_next?e.direction_next:void 0,this.text=this.chart.paper.text(0,0,e.text),e.key&&(this.text.node.id=e.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var r=this.getAttr("font"),s=this.getAttr("font-family"),n=this.getAttr("font-weight");r&&this.text.attr({font:r}),s&&this.text.attr({"font-family":s}),n&&this.text.attr({"font-weight":n}),e.link&&this.text.attr("href",e.link),e.target&&this.text.attr("target",e.target);var o=this.getAttr("maxWidth");if(o){for(var h=e.text.split(" "),a="",x=0,y=h.length;y>x;x++){var l=h[x];this.text.attr("text",a+" "+l),a+=this.text.getBBox().width>o?"\n"+l:" "+l}this.text.attr("text",a.substring(1))}if(this.group.push(this.text),i){var g=this.getAttr("text-margin");i.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*g,height:this.text.getBBox().height+2*g}),i.node.setAttribute("class",this.getAttr("class")),e.link&&i.attr("href",e.link),e.target&&i.attr("target",e.target),e.key&&(i.node.id=e.key),this.group.push(i),i.insertBefore(this.text),this.text.attr({y:i.getBBox().height/2}),this.initialize()}}var s=i(3),n=s.drawLine,o=s.checkLineIntersection;r.prototype.getAttr=function(t){if(this.chart){var e,i=this.chart.options?this.chart.options[t]:void 0,r=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][t]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(e=this.chart.options.flowstate[this.flowstate][t]),e||r||i}},r.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},r.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},r.prototype.getX=function(){return this.group.getBBox().x},r.prototype.getY=function(){return this.group.getBBox().y},r.prototype.shiftX=function(t){this.group.transform("t"+(this.getX()+t)+","+this.getY())},r.prototype.setX=function(t){this.group.transform("t"+t+","+this.getY())},r.prototype.shiftY=function(t){this.group.transform("t"+this.getX()+","+(this.getY()+t))},r.prototype.setY=function(t){this.group.transform("t"+this.getX()+","+t)},r.prototype.getTop=function(){var t=this.getY(),e=this.getX()+this.width/2;return{x:e,y:t}},r.prototype.getBottom=function(){var t=this.getY()+this.height,e=this.getX()+this.width/2;return{x:e,y:t}},r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2,e=this.getX();return{x:e,y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2,e=this.getX()+this.group.getBBox().width;return{x:e,y:t}},r.prototype.render=function(){if(this.next){var t=this.getAttr("line-length");if("right"===this.next_direction){var e=this.getRight();if(!this.next.isPositioned){this.next.setY(e.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+t);var i=this;!function s(){for(var e,r=!1,n=0,o=i.chart.symbols.length;o>n;n++){e=i.chart.symbols[n];var h=Math.abs(e.getCenter().x-i.next.getCenter().x);if(e.getCenter().y>i.next.getCenter().y&&h<=i.next.width/2){r=!0;break}}r&&(i.next.setX(e.getX()+e.width+t),s())}(),this.next.isPositioned=!0,this.next.render()}}else{var r=this.getBottom();this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+t),this.next.setX(r.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},r.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,"",this.next_direction):this.drawLineTo(this.next))},r.prototype.drawLineTo=function(t,e,i){this.connectedTo.indexOf(t)<0&&this.connectedTo.push(t);var r,s=this.getCenter().x,h=this.getCenter().y,a=this.getRight(),x=this.getBottom(),y=this.getLeft(),l=t.getCenter().x,g=t.getCenter().y,f=t.getTop(),p=t.getRight(),c=t.getLeft(),u=s===l,d=h===g,m=g>h,b=h>g,v=s>l,w=l>s,k=0,_=this.getAttr("line-length"),B=this.getAttr("line-width");if(i&&"bottom"!==i||!u||!m)if(i&&"right"!==i||!d||!w)if(i&&"left"!==i||!d||!v)if(i&&"right"!==i||!u||!b)if(i&&"right"!==i||!u||!m)if(i&&"bottom"!==i||!v)if(i&&"bottom"!==i||!w)if(i&&"right"===i&&v)r=n(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else if(i&&"right"===i&&w)r=n(this.chart,a,[{x:f.x,y:a.y},{x:f.x,y:f.y}],e),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else if(i&&"bottom"===i&&u&&b)r=n(this.chart,x,[{x:x.x,y:x.y+_/2},{x:a.x+_/2,y:x.y+_/2},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.bottomStart=!0,t.topEnd=!0,k=x.x+_/2;else if("left"===i&&u&&b){var A=y.x-_/2;c.x<y.x&&(A=c.x-_/2),r=n(this.chart,y,[{x:A,y:y.y},{x:A,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.leftStart=!0,t.topEnd=!0,k=y.x}else"left"===i&&(r=n(this.chart,y,[{x:f.x+(y.x-f.x)/2,y:y.y},{x:f.x+(y.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.leftStart=!0,t.topEnd=!0,k=y.x);else r=n(this.chart,x,[{x:x.x,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.bottomStart=!0,t.topEnd=!0,k=x.x+(x.x-f.x)/2;else r=this.leftEnd&&b?n(this.chart,x,[{x:x.x,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e):n(this.chart,x,[{x:x.x,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.bottomStart=!0,t.topEnd=!0,k=x.x+(x.x-f.x)/2;else r=n(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else r=n(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],e),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else r=n(this.chart,y,p,e),this.leftStart=!0,t.rightEnd=!0,k=p.x;else r=n(this.chart,a,c,e),this.rightStart=!0,t.leftEnd=!0,k=c.x;else r=n(this.chart,x,f,e),this.bottomStart=!0,t.topEnd=!0,k=x.x;if(r){for(var O=0,L=this.chart.lines.length;L>O;O++)for(var M,X=this.chart.lines[O],T=X.attr("path"),Y=r.attr("path"),S=0,C=T.length-1;C>S;S++){var j=[];j.push(["M",T[S][1],T[S][2]]),j.push(["L",T[S+1][1],T[S+1][2]]);for(var E=j[0][1],z=j[0][2],P=j[1][1],R=j[1][2],W=0,F=Y.length-1;F>W;W++){var I=[];I.push(["M",Y[W][1],Y[W][2]]),I.push(["L",Y[W+1][1],Y[W+1][2]]);var V=I[0][1],G=I[0][2],N=I[1][1],q=I[1][2],Q=o(E,z,P,R,V,G,N,q);if(Q.onLine1&&Q.onLine2){var K;G===q?V>N?(K=["L",Q.x+2*B,G],Y.splice(W+1,0,K),K=["C",Q.x+2*B,G,Q.x,G-4*B,Q.x-2*B,G],Y.splice(W+2,0,K),r.attr("path",Y)):(K=["L",Q.x-2*B,G],Y.splice(W+1,0,K),K=["C",Q.x-2*B,G,Q.x,G-4*B,Q.x+2*B,G],Y.splice(W+2,0,K),r.attr("path",Y)):G>q?(K=["L",V,Q.y+2*B],Y.splice(W+1,0,K),K=["C",V,Q.y+2*B,V+4*B,Q.y,V,Q.y-2*B],Y.splice(W+2,0,K),r.attr("path",Y)):(K=["L",V,Q.y-2*B],Y.splice(W+1,0,K),K=["C",V,Q.y-2*B,V+4*B,Q.y,V,Q.y+2*B],Y.splice(W+2,0,K),r.attr("path",Y)),W+=2,M+=2}}}this.chart.lines.push(r)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&k>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=k)},t.exports=r},function(t,e){function i(t,e,i){var r,s,n="M{0},{1}";for(r=2,s=2*i.length+2;s>r;r+=2)n+=" L{"+r+"},{"+(r+1)+"}";var o=[e.x,e.y];for(r=0,s=i.length;s>r;r++)o.push(i[r].x),o.push(i[r].y);var h=t.paper.path(n,o);h.attr("stroke",t.options["element-color"]),h.attr("stroke-width",t.options["line-width"]);var a=t.options.font,x=t.options["font-family"],y=t.options["font-weight"];return a&&h.attr({font:a}),x&&h.attr({"font-family":x}),y&&h.attr({"font-weight":y}),h}function r(t,e,i,r){var s,n;"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]);var o="M{0},{1}";for(s=2,n=2*i.length+2;n>s;s+=2)o+=" L{"+s+"},{"+(s+1)+"}";var h=[e.x,e.y];for(s=0,n=i.length;n>s;s++)h.push(i[s].x),h.push(i[s].y);var a=t.paper.path(o,h);a.attr({stroke:t.options["line-color"],"stroke-width":t.options["line-width"],"arrow-end":t.options["arrow-end"]});var x=t.options.font,y=t.options["font-family"],l=t.options["font-weight"];if(x&&a.attr({font:x}),y&&a.attr({"font-family":y}),l&&a.attr({"font-weight":l}),r){var g=!1,f=t.paper.text(0,0,r),p=!1,c=i[0];e.y===c.y&&(p=!0);var u=0,d=0;g?(u=e.x>c.x?e.x-(e.x-c.x)/2:c.x-(c.x-e.x)/2,d=e.y>c.y?e.y-(e.y-c.y)/2:c.y-(c.y-e.y)/2,p?(u-=f.getBBox().width/2,d-=t.options["text-margin"]):(u+=t.options["text-margin"],d-=f.getBBox().height/2)):(u=e.x,d=e.y,p?(u+=t.options["text-margin"]/2,d-=t.options["text-margin"]):(u+=t.options["text-margin"]/2,d+=t.options["text-margin"])),f.attr({"text-anchor":"start","font-size":t.options["font-size"],fill:t.options["font-color"],x:u,y:d}),x&&f.attr({font:x}),y&&f.attr({"font-family":y}),l&&f.attr({"font-weight":l})}return a}function s(t,e,i,r,s,n,o,h){var a,x,y,l,g,f={x:null,y:null,onLine1:!1,onLine2:!1};return a=(h-n)*(i-t)-(o-s)*(r-e),0===a?f:(x=e-n,y=t-s,l=(o-s)*x-(h-n)*y,g=(i-t)*x-(r-e)*y,x=l/a,y=g/a,f.x=t+x*(i-t),f.y=e+x*(r-e),x>0&&1>x&&(f.onLine1=!0),y>0&&1>y&&(f.onLine2=!0),f)}t.exports={drawPath:i,drawLine:r,checkLineIntersection:s}},function(t,e,i){function r(t,e){e=e||{},s.call(this,t,e),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",e.yes&&e.direction_yes&&e.no&&!e.direction_no?"right"===e.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):(this.no_direction="right",this.yes_direction="bottom"):e.yes&&!e.direction_yes&&e.no&&e.direction_no?"right"===e.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var i=this.text.getBBox().width+3*this.textMargin;i+=i/2;var r=this.text.getBBox().height+2*this.textMargin;r+=r/2,r=Math.max(.5*i,r);var n=i/4,o=r/4;this.text.attr({x:n+this.textMargin/2});var a={x:n,y:o},x=[{x:n-i/4,y:o+r/4},{x:n-i/4+i/2,y:o+r/4+r/2},{x:n-i/4+i,y:o+r/4},{x:n-i/4+i/2,y:o+r/4-r/2},{x:n-i/4,y:o+r/4}],y=h(t,a,x);y.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),e.link&&y.attr("href",e.link),e.target&&y.attr("target",e.target),e.key&&(y.node.id=e.key),y.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:y.getBBox().height/2}),this.group.push(y),y.insertBefore(this.text),this.initialize()}var s=i(2),n=i(1).inherits,o=i(3),h=o.drawPath;n(r,s),r.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var t=this.getAttr("line-length");if(this.bottom_symbol){var e=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+t),this.bottom_symbol.setX(e.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var i=this.getRight();if(!this.right_symbol.isPositioned){this.right_symbol.setY(i.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+t);var r=this;!function s(){for(var e,i=!1,n=0,o=r.chart.symbols.length;o>n;n++){e=r.chart.symbols[n];var h=Math.abs(e.getCenter().x-r.right_symbol.getCenter().x);if(e.getCenter().y>r.right_symbol.getCenter().y&&h<=r.right_symbol.width/2){i=!0;break}}i&&(r.right_symbol.setX(e.getX()+e.width+t),s())}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},r.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},t.exports=r},function(t,e,i){function r(t,e){e=e||{},this.paper=new s(t),this.options=n(e,o),this.symbols=[],this.lines=[],this.start=null}var s=i(16),n=i(1).defaults,o=i(12),h=i(4);r.prototype.handle=function(t){this.symbols.indexOf(t)<=-1&&this.symbols.push(t);var e=this;return t instanceof h?(t.yes=function(i){return t.yes_symbol=i,t.no_symbol&&(t.pathOk=!0),e.handle(i)},t.no=function(i){return t.no_symbol=i,t.yes_symbol&&(t.pathOk=!0),e.handle(i)}):t.then=function(i){return t.next=i,t.pathOk=!0,e.handle(i)},t},r.prototype.startWith=function(t){return this.start=t,this.handle(t)},r.prototype.render=function(){var t,e,i=0,r=0,s=0,n=0,o=0,h=0,a=0,x=0;for(s=0,n=this.symbols.length;n>s;s++)t=this.symbols[s],t.width>i&&(i=t.width),t.height>r&&(r=t.height);for(s=0,n=this.symbols.length;n>s;s++)t=this.symbols[s],t.shiftX(this.options.x+(i-t.width)/2+this.options["line-width"]),t.shiftY(this.options.y+(r-t.height)/2+this.options["line-width"]);for(this.start.render(),s=0,n=this.symbols.length;n>s;s++)t=this.symbols[s],t.renderLines();for(o=this.maxXFromLine,s=0,n=this.symbols.length;n>s;s++){t=this.symbols[s];var y=t.getX()+t.width,l=t.getY()+t.height;y>o&&(o=y),l>h&&(h=l)}for(s=0,n=this.lines.length;n>s;s++){e=this.lines[s].getBBox();var y=e.x,l=e.y,g=e.x2,f=e.y2;a>y&&(a=y),x>l&&(x=l),g>o&&(o=g),f>h&&(h=f)}var p=this.options.scale,c=this.options["line-width"];0>a&&(a-=c),0>x&&(x-=c);var u=o+c-a,d=h+c-x;this.paper.setSize(u*p,d*p),this.paper.setViewBox(a,x,u,d,!0)},r.prototype.clean=function(){if(this.paper){var t=this.paper.canvas;t.parentNode.removeChild(t)}},t.exports=r},function(t,e,i){function r(t){function e(t){var e=t.indexOf("(")+1,i=t.indexOf(")");return e>=0&&i>=0?r.symbols[t.substring(0,e-1)]:r.symbols[t]}function i(t){var e="next",i=t.indexOf("(")+1,r=t.indexOf(")");return i>=0&&r>=0&&(e=X.substring(i,r),e.indexOf(",")<0&&"yes"!==e&&"no"!==e&&(e="next, "+e)),e}t=t||"",t=t.trim();for(var r={symbols:{},start:null,drawSVG:function(t,e){function i(t){if(g[t.key])return g[t.key];switch(t.symbolType){case"start":g[t.key]=new n(l,t);break;case"end":g[t.key]=new o(l,t);break;case"operation":g[t.key]=new h(l,t);break;case"inputoutput":g[t.key]=new a(l,t);break;case"subroutine":g[t.key]=new x(l,t);break;case"condition":g[t.key]=new y(l,t);break;default:return new Error("Wrong symbol type!")}return g[t.key]}var r=this;this.diagram&&this.diagram.clean();var l=new s(t,e);this.diagram=l;var g={};!function f(t,e,s){var n=i(t);return r.start===t?l.startWith(n):e&&s&&!e.pathOk&&(e instanceof y?(s.yes===t&&e.yes(n),s.no===t&&e.no(n)):e.then(n)),n.pathOk?n:(n instanceof y?(t.yes&&f(t.yes,n,t),t.no&&f(t.no,n,t)):t.next&&f(t.next,n,t),n)}(this.start),l.render()},clean:function(){this.diagram.clean()}},l=[],g=0,f=1,p=t.length;p>f;f++)if("\n"===t[f]&&"\\"!==t[f-1]){var c=t.substring(g,f);g=f+1,l.push(c.replace(/\\\n/g,"\n"))}g<t.length&&l.push(t.substr(g));for(var u=1,d=l.length;d>u;){var m=l[u];m.indexOf("->")<0&&m.indexOf("=>")<0?(l[u-1]+="\n"+m,l.splice(u,1),d--):u++}for(;l.length>0;){var b=l.splice(0,1)[0];if(b.indexOf("=>")>=0){var v,w=b.split("=>"),k={key:w[0],symbolType:w[1],text:null,link:null,target:null,flowstate:null};if(k.symbolType.indexOf(": ")>=0&&(v=k.symbolType.split(": "),k.symbolType=v.shift(),k.text=v.join(": ")),k.text&&k.text.indexOf(":>")>=0?(v=k.text.split(":>"),k.text=v.shift(),k.link=v.join(":>")):k.symbolType.indexOf(":>")>=0&&(v=k.symbolType.split(":>"),k.symbolType=v.shift(),k.link=v.join(":>")),k.symbolType.indexOf("\n")>=0&&(k.symbolType=k.symbolType.split("\n")[0]),k.link){var _=k.link.indexOf("[")+1,B=k.link.indexOf("]");_>=0&&B>=0&&(k.target=k.link.substring(_,B),k.link=k.link.substring(0,_-1))}if(k.text&&k.text.indexOf("|")>=0){var A=k.text.split("|");k.flowstate=A.pop().trim(),k.text=A.join("|")}r.symbols[k.key]=k}else if(b.indexOf("->")>=0)for(var O=b.split("->"),L=0,M=O.length;M>L;L++){var X=O[L],T=e(X),Y=i(X),S=null;if(Y.indexOf(",")>=0){var C=Y.split(",");Y=C[0],S=C[1].trim()}if(r.start||(r.start=T),M>L+1){var j=O[L+1];T[Y]=e(j),T["direction_"+Y]=S,S=null}}}return r}var s=i(5),n=i(10),o=i(7),h=i(9),a=i(8),x=i(11),y=i(4);t.exports=r},function(t,e,i){function r(t,e){var i=t.paper.rect(0,0,0,0,20);e=e||{},e.text=e.text||"End",s.call(this,t,e,i)}var s=i(2),n=i(1).inherits;n(r,s),t.exports=r},function(t,e,i){function r(t,e){e=e||{},s.call(this,t,e),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var i=this.text.getBBox().width+4*this.textMargin,r=this.text.getBBox().height+2*this.textMargin,n=this.textMargin,o=r/2,a={x:n,y:o},x=[{x:n-this.textMargin,y:r},{x:n-this.textMargin+i,y:r},{x:n-this.textMargin+i+2*this.textMargin,y:0},{x:n-this.textMargin+2*this.textMargin,y:0},{x:n,y:o}],y=h(t,a,x);y.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),e.link&&y.attr("href",e.link),e.target&&y.attr("target",e.target),e.key&&(y.node.id=e.key),y.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:y.getBBox().height/2}),this.group.push(y),y.insertBefore(this.text),this.initialize()}var s=i(2),n=i(1).inherits,o=i(3),h=o.drawPath;n(r,s),r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2,e=this.getX()+this.textMargin;return{x:e,y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2,e=this.getX()+this.group.getBBox().width-this.textMargin;return{x:e,y:t}},t.exports=r},function(t,e,i){function r(t,e){var i=t.paper.rect(0,0,0,0);e=e||{},s.call(this,t,e,i)}var s=i(2),n=i(1).inherits;n(r,s),t.exports=r},function(t,e,i){function r(t,e){var i=t.paper.rect(0,0,0,0,20);e=e||{},e.text=e.text||"Start",s.call(this,t,e,i)}var s=i(2),n=i(1).inherits;n(r,s),t.exports=r},function(t,e,i){function r(t,e){var i=t.paper.rect(0,0,0,0);e=e||{},s.call(this,t,e,i),i.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var r=t.paper.rect(0,0,0,0);r.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),e.key&&(r.node.id=e.key+"i");var n=this.getAttr("font"),o=this.getAttr("font-family"),h=this.getAttr("font-weight");n&&r.attr({font:n}),o&&r.attr({"font-family":o}),h&&r.attr({"font-weight":h}),e.link&&r.attr("href",e.link),e.target&&r.attr("target",e.target),this.group.push(r),r.insertBefore(this.text),this.initialize()}var s=i(2),n=i(1).inherits;n(r,s),t.exports=r},function(t,e){t.exports={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block","class":"flowchart",scale:1,symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{}}}},function(t,e,i){function r(t,e){var i={symbols:t,start:null,drawSVG:function(t,e){function i(t){if(g[t.key])return g[t.key];switch(t.symbolType){case"start":g[t.key]=new n(l,t);break;case"end":g[t.key]=new o(l,t);break;case"operation":g[t.key]=new h(l,t);break;case"inputoutput":g[t.key]=new a(l,t);break;case"subroutine":g[t.key]=new x(l,t);break;case"condition":g[t.key]=new y(l,t);break;default:return new Error("Wrong symbol type!")}return g[t.key]}var r=this;this.diagram&&this.diagram.clean();var l=new s(t,e);this.diagram=l;var g={};!function f(t,e,s){var n=i(t);return r.start===t?l.startWith(n):e&&s&&!e.pathOk&&(e instanceof y?(s.yes===t&&e.yes(n),s.no===t&&e.no(n)):e.then(n)),n.pathOk?n:(n instanceof y?(t.yes&&f(t.yes,n,t),t.no&&f(t.no,n,t)):t.next&&f(t.next,n,t),n)}(this.start),l.render()},clean:function(){this.diagram.clean()}};for(var r in e){var l=e[r],g=t[l.key],f=t[l.nextKey];g[l.next]=f,g["direction_"+l.next]=l.direction,i.start||(i.start=g)}return i}var s=i(5),n=i(10),o=i(7),h=i(9),a=i(8),x=i(11),y=i(4);t.exports=r},function(t,e){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=i)return-1;for(var s=r>=0?r:Math.max(i-Math.abs(r),0);i>s;s++)if(s in e&&e[s]===t)return s;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var r=i;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var s=r>=0?Math.min(r,i-1):i-Math.abs(r);s>=0;s--)if(s in e&&e[s]===t)return s;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(t,e,i){if("undefined"!=typeof jQuery){var r=i(6);!function(t){t.fn.flowChart=function(e){return this.each(function(){var i=t(this),s=r(i.text());i.html(""),s.drawSVG(this,e)})}}(jQuery)}},function(e,i){e.exports=t}])});
//# sourceMappingURL=flowchart.min.js.map